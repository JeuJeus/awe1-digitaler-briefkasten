<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">

    <link rel="stylesheet" th:href="@{../css/common.css}" type="text/css"/>
    <link rel="stylesheet" th:href="@{../css/bootstrap.min.css}" type="text/css"/>
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-dark bg-dark" th:fragment="navbar">
    <a class="navbar-brand" href="/">
        <img alt="" class="d-inline-block align-top" height="30" src="/images/logo.png" width="30">
        Digitaler Briefkasten</a>
    <button aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation" class="navbar-toggler"
            data-target="#navbarNav" data-toggle="collapse" type="button">
        <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav">


            <!--            TODO IMPLEMENT THE SAME FOR ADMIN-->
            <li sec:authorize="hasRole('ROLE_SPECIALIST')"
                th:classappend="${#httpServletRequest.getRequestURI() == '/specialist' ? 'active':''}">
                <!--            TODO ADD NICE LOOKING COUNTER FOR PENDINGIDEAS HERE-->
                <a class="nav-link" href="/specialist">Ideen bewerten</a>
            </li>
            <li sec:authorize="hasRole('ROLE_USER')"
                th:classappend="${#httpServletRequest.getRequestURI()  == '/' ? 'active':
                                        (#httpServletRequest.getRequestURI()  == '/welcome' ? 'active': '')}">
                <a class="nav-link" href="/">Home </a>
            </li>

            <li sec:authorize="isAuthenticated()"
                    class="nav-item dropdown navbar-dark bg-dark"
                th:classappend="${#httpServletRequest.getRequestURI() == '/createIdea' ? 'active':''}">
                <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown1" role="button" data-toggle="dropdown"
                   aria-haspopup="true" aria-expanded="false">
                    Idee erstellen
                </a>
                <div class="dropdown-menu navbar-dark bg-dark" aria-labelledby="navbarDropdown">
                    <a class="nav-link navbar-dark bg-dark" href="/createIdea/internal">Interne Idee</a>
                    <a class="nav-link navbar-dark bg-dark" href="/createIdea/product">Produktidee</a>
                </div>

            <li th:classappend="${#httpServletRequest.getRequestURI() == '/ideas' ? 'active':''}">
                <a class="nav-link" href="/ideas">Ideen anschauen</a>
            </li>

        </ul>
    </div>
    <!--TODO: FIX LOGOUT BUTTON ON SLIM SCREENS NOT DISPLAYED-->
    <button sec:authorize="isAuthenticated()"
            class="btn btn-outline-danger my-2 my-sm-0" onclick="document.forms['logoutForm'].submit()" type="submit">
        <a>Logout</a>
    </button>
    <form id="logoutForm" method="GET" th:action="@{/logout}">
    </form>
</nav>

</body>
</html>